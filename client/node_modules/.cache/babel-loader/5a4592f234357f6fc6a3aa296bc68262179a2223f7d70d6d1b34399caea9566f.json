{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const ForgotPassword=()=>{const[email,setEmail]=useState('');const[otp,setOtp]=useState('');const[newPassword,setNewPassword]=useState('');const[step,setStep]=useState(1);const sendOtp=async()=>{try{await axios.post('/api/auth/send-otp',{email});setStep(2);}catch(err){alert('OTP send failed');}};const verifyOtp=async()=>{try{await axios.post('/api/auth/reset-password',{email,otp,newPassword});alert('Password changed');setStep(1);}catch(err){alert('Invalid OTP or error');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"auth-box\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Forgot Password\"}),step===1?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"Email\",onChange:e=>setEmail(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{onClick:sendOtp,children:\"Send OTP\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"OTP\",onChange:e=>setOtp(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"New Password\",type:\"password\",onChange:e=>setNewPassword(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{onClick:verifyOtp,children:\"Reset Password\"})]})]});};export default ForgotPassword;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","ForgotPassword","email","setEmail","otp","setOtp","newPassword","setNewPassword","step","setStep","sendOtp","post","err","alert","verifyOtp","className","children","placeholder","onChange","e","target","value","onClick","type"],"sources":["B:/miki-chat-app/client/src/components/ForgotPassword.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst ForgotPassword = () => {\r\n  const [email, setEmail] = useState('');\r\n  const [otp, setOtp] = useState('');\r\n  const [newPassword, setNewPassword] = useState('');\r\n  const [step, setStep] = useState(1);\r\n\r\n  const sendOtp = async () => {\r\n    try {\r\n      await axios.post('/api/auth/send-otp', { email });\r\n      setStep(2);\r\n    } catch (err) {\r\n      alert('OTP send failed');\r\n    }\r\n  };\r\n\r\n  const verifyOtp = async () => {\r\n    try {\r\n      await axios.post('/api/auth/reset-password', { email, otp, newPassword });\r\n      alert('Password changed');\r\n      setStep(1);\r\n    } catch (err) {\r\n      alert('Invalid OTP or error');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"auth-box\">\r\n      <h2>Forgot Password</h2>\r\n      {step === 1 ? (\r\n        <>\r\n          <input placeholder=\"Email\" onChange={e => setEmail(e.target.value)} />\r\n          <button onClick={sendOtp}>Send OTP</button>\r\n        </>\r\n      ) : (\r\n        <>\r\n          <input placeholder=\"OTP\" onChange={e => setOtp(e.target.value)} />\r\n          <input placeholder=\"New Password\" type=\"password\" onChange={e => setNewPassword(e.target.value)} />\r\n          <button onClick={verifyOtp}>Reset Password</button>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ForgotPassword;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,QAAA,IAAAC,SAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,KAAM,CAAAC,cAAc,CAAGA,CAAA,GAAM,CAC3B,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACW,GAAG,CAAEC,MAAM,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CAClC,KAAM,CAACa,WAAW,CAAEC,cAAc,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CAClD,KAAM,CAACe,IAAI,CAAEC,OAAO,CAAC,CAAGhB,QAAQ,CAAC,CAAC,CAAC,CAEnC,KAAM,CAAAiB,OAAO,CAAG,KAAAA,CAAA,GAAY,CAC1B,GAAI,CACF,KAAM,CAAAhB,KAAK,CAACiB,IAAI,CAAC,oBAAoB,CAAE,CAAET,KAAM,CAAC,CAAC,CACjDO,OAAO,CAAC,CAAC,CAAC,CACZ,CAAE,MAAOG,GAAG,CAAE,CACZC,KAAK,CAAC,iBAAiB,CAAC,CAC1B,CACF,CAAC,CAED,KAAM,CAAAC,SAAS,CAAG,KAAAA,CAAA,GAAY,CAC5B,GAAI,CACF,KAAM,CAAApB,KAAK,CAACiB,IAAI,CAAC,0BAA0B,CAAE,CAAET,KAAK,CAAEE,GAAG,CAAEE,WAAY,CAAC,CAAC,CACzEO,KAAK,CAAC,kBAAkB,CAAC,CACzBJ,OAAO,CAAC,CAAC,CAAC,CACZ,CAAE,MAAOG,GAAG,CAAE,CACZC,KAAK,CAAC,sBAAsB,CAAC,CAC/B,CACF,CAAC,CAED,mBACEb,KAAA,QAAKe,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvBpB,IAAA,OAAAoB,QAAA,CAAI,iBAAe,CAAI,CAAC,CACvBR,IAAI,GAAK,CAAC,cACTR,KAAA,CAAAF,SAAA,EAAAkB,QAAA,eACEpB,IAAA,UAAOqB,WAAW,CAAC,OAAO,CAACC,QAAQ,CAAEC,CAAC,EAAIhB,QAAQ,CAACgB,CAAC,CAACC,MAAM,CAACC,KAAK,CAAE,CAAE,CAAC,cACtEzB,IAAA,WAAQ0B,OAAO,CAAEZ,OAAQ,CAAAM,QAAA,CAAC,UAAQ,CAAQ,CAAC,EAC3C,CAAC,cAEHhB,KAAA,CAAAF,SAAA,EAAAkB,QAAA,eACEpB,IAAA,UAAOqB,WAAW,CAAC,KAAK,CAACC,QAAQ,CAAEC,CAAC,EAAId,MAAM,CAACc,CAAC,CAACC,MAAM,CAACC,KAAK,CAAE,CAAE,CAAC,cAClEzB,IAAA,UAAOqB,WAAW,CAAC,cAAc,CAACM,IAAI,CAAC,UAAU,CAACL,QAAQ,CAAEC,CAAC,EAAIZ,cAAc,CAACY,CAAC,CAACC,MAAM,CAACC,KAAK,CAAE,CAAE,CAAC,cACnGzB,IAAA,WAAQ0B,OAAO,CAAER,SAAU,CAAAE,QAAA,CAAC,gBAAc,CAAQ,CAAC,EACnD,CACH,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAAf,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}